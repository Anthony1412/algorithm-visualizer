<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithm Visualizer Pro | Interactive Sorting & Search Algorithms</title>
    <meta name="description" content="Interactive visualization of sorting and search algorithms with step-by-step animations and educational insights">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-sort-amount-down-alt"></i>
                    <h1>Algorithm Visualizer Pro</h1>
                </div>
                <p class="subtitle">Interactive visualization of sorting and search algorithms</p>
            </div>
            <div class="header-actions">
                <button id="themeToggle" class="btn-icon" title="Toggle theme">
                    <i class="fas fa-moon"></i>
                </button>
                <button id="infoToggle" class="btn-icon" title="Show information">
                    <i class="fas fa-info-circle"></i>
                </button>
                <button id="fullscreenToggle" class="btn-icon" title="Toggle fullscreen">
                    <i class="fas fa-expand"></i>
                </button>
                <!-- Mobile Menu Toggle -->
                <button id="mobileMenuToggle" class="btn-icon mobile-only" title="Toggle menu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </header>

        <!-- Algorithm Info Panel -->
        <div class="info-panel">
            <div id="algorithmInfo" class="algorithm-info">
                Select an algorithm and click Play to start visualization
            </div>
        </div>

        <!-- Main Dashboard -->
        <div class="dashboard">
            <!-- Control Panel -->
            <div class="control-panel" id="controlPanel">
                <!-- Mobile Panel Header -->
                <div class="mobile-panel-header mobile-only">
                    <h3>Controls</h3>
                    <button id="closeControlPanel" class="btn-icon">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Algorithm Selection -->
                <div class="control-group">
                    <h3><i class="fas fa-sort"></i> Algorithm Selection</h3>
                    <div class="algorithm-categories">
                        <div class="category-tabs">
                            <button class="category-tab active" data-category="sorting">Sorting</button>
                            <button class="category-tab" data-category="searching">Searching</button>
                            <button class="category-tab" data-category="advanced">Advanced</button>
                        </div>
                        
                        <div class="algorithm-buttons" id="sorting-algorithms">
                            <button id="bubbleSort" class="btn-algorithm" data-algo="bubble">
                                <span class="algo-icon">ü´ß</span>
                                <span class="algo-name">Bubble Sort</span>
                                <span class="algo-complexity">O(n¬≤)</span>
                            </button>
                            <button id="selectionSort" class="btn-algorithm" data-algo="selection">
                                <span class="algo-icon">üéØ</span>
                                <span class="algo-name">Selection Sort</span>
                                <span class="algo-complexity">O(n¬≤)</span>
                            </button>
                            <button id="insertionSort" class="btn-algorithm" data-algo="insertion">
                                <span class="algo-icon">üì•</span>
                                <span class="algo-name">Insertion Sort</span>
                                <span class="algo-complexity">O(n¬≤)</span>
                            </button>
                            <button id="mergeSort" class="btn-algorithm" data-algo="merge">
                                <span class="algo-icon">üîÑ</span>
                                <span class="algo-name">Merge Sort</span>
                                <span class="algo-complexity">O(n log n)</span>
                            </button>
                            <button id="quickSort" class="btn-algorithm" data-algo="quick">
                                <span class="algo-icon">‚ö°</span>
                                <span class="algo-name">Quick Sort</span>
                                <span class="algo-complexity">O(n log n)</span>
                            </button>
                            <button id="heapSort" class="btn-algorithm" data-algo="heap">
                                <span class="algo-icon">üìä</span>
                                <span class="algo-name">Heap Sort</span>
                                <span class="algo-complexity">O(n log n)</span>
                            </button>
                        </div>
                        
                        <div class="algorithm-buttons hidden" id="searching-algorithms">
                            <button id="linearSearch" class="btn-algorithm" data-algo="linear">
                                <span class="algo-icon">üîç</span>
                                <span class="algo-name">Linear Search</span>
                                <span class="algo-complexity">O(n)</span>
                            </button>
                            <button id="binarySearch" class="btn-algorithm" data-algo="binary">
                                <span class="algo-icon">üéØ</span>
                                <span class="algo-name">Binary Search</span>
                                <span class="algo-complexity">O(log n)</span>
                            </button>
                        </div>
                        
                        <div class="algorithm-buttons hidden" id="advanced-algorithms">
                            <button id="countingSort" class="btn-algorithm" data-algo="counting">
                                <span class="algo-icon">üî¢</span>
                                <span class="algo-name">Counting Sort</span>
                                <span class="algo-complexity">O(n+k)</span>
                            </button>
                            <button id="radixSort" class="btn-algorithm" data-algo="radix">
                                <span class="algo-icon">üìà</span>
                                <span class="algo-name">Radix Sort</span>
                                <span class="algo-complexity">O(nk)</span>
                            </button>
                            <button id="shellSort" class="btn-algorithm" data-algo="shell">
                                <span class="algo-icon">üêö</span>
                                <span class="algo-name">Shell Sort</span>
                                <span class="algo-complexity">O(n log n)</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Playback Controls -->
                <div class="control-group">
                    <h3><i class="fas fa-play-circle"></i> Playback Controls</h3>
                    <div class="playback-controls">
                        <button id="generateArray" class="btn btn-primary">
                            <i class="fas fa-sync-alt"></i> New Array
                        </button>
                        <div class="playback-buttons">
                            <button id="stepBackward" class="btn-icon" title="Step backward">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button id="playPause" class="btn btn-secondary" disabled>
                                <i class="fas fa-play"></i> Play
                            </button>
                            <button id="stepForward" class="btn-icon" title="Step forward">
                                <i class="fas fa-step-forward"></i>
                            </button>
                        </div>
                        <button id="reset" class="btn btn-warning">
                            <i class="fas fa-undo"></i> Reset
                        </button>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-info">
                            <span id="progressText">0% Complete</span>
                            <span id="stepCounter">Step: 0/0</span>
                        </div>
                    </div>
                </div>

                <!-- Configuration -->
                <div class="control-group">
                    <h3><i class="fas fa-cog"></i> Configuration</h3>
                    <div class="config-grid">
                        <div class="slider-container">
                            <label for="arraySize">
                                <i class="fas fa-chart-bar"></i> Array Size
                                <span id="arraySizeValue">30</span>
                            </label>
                            <input type="range" id="arraySize" min="5" max="100" value="30" class="slider">
                            <div class="slider-labels">
                                <span>5</span>
                                <span>100</span>
                            </div>
                        </div>
                        
                        <div class="slider-container">
                            <label for="speed">
                                <i class="fas fa-bolt"></i> Animation Speed
                                <span id="speedValue">Normal</span>
                            </label>
                            <input type="range" id="speed" min="1" max="5" value="3" class="slider">
                            <div class="slider-labels">
                                <span>Slow</span>
                                <span>Fast</span>
                            </div>
                        </div>
                        
                        <div class="checkbox-container">
                            <label class="checkbox-label">
                                <input type="checkbox" id="showValues" checked>
                                <span class="checkmark"></span>
                                Show Values
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="soundEffects">
                                <span class="checkmark"></span>
                                Sound Effects
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Array Customization -->
                <div class="control-group">
                    <h3><i class="fas fa-sliders-h"></i> Array Customization</h3>
                    <div class="array-presets">
                        <button class="btn-small" data-preset="random">Random</button>
                        <button class="btn-small" data-preset="sorted">Sorted</button>
                        <button class="btn-small" data-preset="reversed">Reversed</button>
                        <button class="btn-small" data-preset="nearly-sorted">Nearly Sorted</button>
                        <button class="btn-small" data-preset="few-unique">Few Unique</button>
                    </div>
                </div>
            </div>

            <!-- Visualization Area -->
            <div class="visualization-area">
                <div class="visualization-header">
                    <div class="algorithm-info">
                        <h2 id="currentAlgorithm">No Algorithm Selected</h2>
                        <p id="algorithmDescription">Select an algorithm to begin visualization</p>
                    </div>
                    <div class="visualization-controls">
                        <button id="zoomIn" class="btn-icon" title="Zoom in">
                            <i class="fas fa-search-plus"></i>
                        </button>
                        <button id="zoomOut" class="btn-icon" title="Zoom out">
                            <i class="fas fa-search-minus"></i>
                        </button>
                        <button id="screenshot" class="btn-icon" title="Take screenshot">
                            <i class="fas fa-camera"></i>
                        </button>
                        <!-- Mobile Controls Toggle -->
                        <button id="mobileControlsToggle" class="btn-icon mobile-only" title="Show controls">
                            <i class="fas fa-sliders-h"></i>
                        </button>
                    </div>
                </div>
                
                <div class="array-container" id="arrayContainer">
                    <!-- Array bars will be generated here -->
                </div>
                
                <div class="code-preview">
                    <div class="code-header">
                        <h3><i class="fas fa-code"></i> Algorithm Code</h3>
                        <div class="code-actions">
                            <button id="copyCode" class="btn-icon" title="Copy code">
                                <i class="fas fa-copy"></i>
                            </button>
                            <button id="toggleCode" class="btn-icon" title="Toggle code view">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                    </div>
                    <div class="code-content">
                        <pre id="algorithmCode">// Select an algorithm to view its code</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats & Information Panel -->
        <div class="info-panel">
            <div class="stats-panel">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-sort-amount-down"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="algorithmName">-</div>
                        <div class="stat-label">Algorithm</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="comparisons">0</div>
                        <div class="stat-label">Comparisons</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-retweet"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="swaps">0</div>
                        <div class="stat-label">Swaps</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="timeElapsed">0.00s</div>
                        <div class="stat-label">Time</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-tachometer-alt"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="operationsPerSecond">0/s</div>
                        <div class="stat-label">Operations</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-memory"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="memoryUsage">-</div>
                        <div class="stat-label">Memory</div>
                    </div>
                </div>
            </div>

            <div class="algorithm-details">
                <div class="details-tabs">
                    <button class="details-tab active" data-tab="complexity">Complexity</button>
                    <button class="details-tab" data-tab="description">Description</button>
                    <button class="details-tab" data-tab="pseudocode">Pseudocode</button>
                </div>
                
                <div class="details-content">
                    <div id="complexity-content" class="tab-content active">
                        <div class="complexity-grid">
                            <div class="complexity-item">
                                <span class="complexity-label">Time (Best)</span>
                                <span class="complexity-value" id="timeBest">-</span>
                            </div>
                            <div class="complexity-item">
                                <span class="complexity-label">Time (Average)</span>
                                <span class="complexity-value" id="timeAverage">-</span>
                            </div>
                            <div class="complexity-item">
                                <span class="complexity-label">Time (Worst)</span>
                                <span class="complexity-value" id="timeWorst">-</span>
                            </div>
                            <div class="complexity-item">
                                <span class="complexity-label">Space</span>
                                <span class="complexity-value" id="spaceComplexity">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <div id="description-content" class="tab-content">
                        <p id="algorithmDescriptionText">Select an algorithm to view its description</p>
                    </div>
                    
                    <div id="pseudocode-content" class="tab-content">
                        <pre id="pseudocode">Select an algorithm to view its pseudocode</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Legend & Help -->
        <div class="footer-panel">
            <div class="legend">
                <h4><i class="fas fa-palette"></i> Visualization Legend</h4>
                <div class="legend-items">
                    <div class="legend-item">
                        <div class="legend-color normal"></div>
                        <span>Unsorted</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color comparing"></div>
                        <span>Comparing</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color swapping"></div>
                        <span>Swapping</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color sorted"></div>
                        <span>Sorted</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color pivot"></div>
                        <span>Pivot</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color searching"></div>
                        <span>Searching</span>
                    </div>
                </div>
            </div>
            
            <div class="keyboard-shortcuts">
                <h4><i class="fas fa-keyboard"></i> Keyboard Shortcuts</h4>
                <div class="shortcut-items">
                    <div class="shortcut-item">
                        <kbd>Space</kbd>
                        <span>Play/Pause</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>‚Üê</kbd>
                        <span>Step Backward</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>‚Üí</kbd>
                        <span>Step Forward</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>R</kbd>
                        <span>Reset</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>N</kbd>
                        <span>New Array</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Welcome Modal 
    <div id="welcomeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Welcome to Algorithm Visualizer Pro</h2>
                <button id="closeModal" class="btn-icon">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>This interactive tool helps you understand how sorting and searching algorithms work through visualization.</p>
                <div class="feature-list">
                    <div class="feature-item">
                        <i class="fas fa-play-circle"></i>
                        <span>Step-by-step animations</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-chart-bar"></i>
                        <span>Performance metrics</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-code"></i>
                        <span>Code visualization</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Educational content</span>
                    </div>
                </div>
                <div class="modal-actions">
                    <button id="getStarted" class="btn btn-primary">Get Started</button>
                    <button id="showTutorial" class="btn btn-secondary">Take a Tour</button>
                </div>
            </div>
        </div>
    </div> -->

    <!-- Scripts -->
    <script src="app.js"></script>
    <script src="utils/helpers.js"></script>
    <script src="utils/render.js"></script>
    <script src="utils/controls.js"></script>
    <script src="algorithms/bubbleSort.js"></script>
    <script src="algorithms/selectionSort.js"></script>
    <script src="algorithms/insertionSort.js"></script>
    <script src="algorithms/mergeSort.js"></script>
    <script src="algorithms/quickSort.js"></script>
    <script src="algorithms/heapSort.js"></script>
    <script src="algorithms/countingSort.js"></script>
    <script src="algorithms/radixSort.js"></script>
    <script src="algorithms/shellSort.js"></script>
    <script src="algorithms/linearSearch.js"></script>
    <script src="algorithms/binarySearch.js"></script>
    <script>
    // Algorithm code samples
    const algorithmCodes = {
        bubble: `function bubbleSort(arr) {
    let n = arr.length;
    for (let i = 0; i < n-1; i++) {
        for (let j = 0; j < n-i-1; j++) {
            if (arr[j] > arr[j+1]) {
                // Swap arr[j] and arr[j+1]
                let temp = arr[j];
                arr[j] = arr[j+1];
                arr[j+1] = temp;
            }
        }
    }
    return arr;
}`,

        selection: `function selectionSort(arr) {
    let n = arr.length;
    for (let i = 0; i < n-1; i++) {
        let minIdx = i;
        for (let j = i+1; j < n; j++) {
            if (arr[j] < arr[minIdx]) {
                minIdx = j;
            }
        }
        // Swap the found minimum element with the first element
        let temp = arr[minIdx];
        arr[minIdx] = arr[i];
        arr[i] = temp;
    }
    return arr;
}`,

        insertion: `function insertionSort(arr) {
    let n = arr.length;
    for (let i = 1; i < n; i++) {
        let key = arr[i];
        let j = i-1;
        while (j >= 0 && arr[j] > key) {
            arr[j+1] = arr[j];
            j = j-1;
        }
        arr[j+1] = key;
    }
    return arr;
}`,

        merge: `function mergeSort(arr) {
    if (arr.length <= 1) return arr;
    
    const mid = Math.floor(arr.length / 2);
    const left = mergeSort(arr.slice(0, mid));
    const right = mergeSort(arr.slice(mid));
    
    return merge(left, right);
}

function merge(left, right) {
    let result = [];
    let i = 0, j = 0;
    
    while (i < left.length && j < right.length) {
        if (left[i] < right[j]) {
            result.push(left[i]);
            i++;
        } else {
            result.push(right[j]);
            j++;
        }
    }
    
    return result.concat(left.slice(i)).concat(right.slice(j));
}`,

        quick: `function quickSort(arr, low = 0, high = arr.length - 1) {
    if (low < high) {
        let pi = partition(arr, low, high);
        quickSort(arr, low, pi - 1);
        quickSort(arr, pi + 1, high);
    }
    return arr;
}

function partition(arr, low, high) {
    let pivot = arr[high];
    let i = low - 1;
    
    for (let j = low; j < high; j++) {
        if (arr[j] < pivot) {
            i++;
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
    }
    [arr[i + 1], arr[high]] = [arr[high], arr[i + 1]];
    return i + 1;
}`,

        heap: `function heapSort(arr) {
    let n = arr.length;
    
    // Build max heap
    for (let i = Math.floor(n / 2) - 1; i >= 0; i--) {
        heapify(arr, n, i);
    }
    
    // Extract elements from heap one by one
    for (let i = n - 1; i > 0; i--) {
        [arr[0], arr[i]] = [arr[i], arr[0]];
        heapify(arr, i, 0);
    }
    return arr;
}

function heapify(arr, n, i) {
    let largest = i;
    let left = 2 * i + 1;
    let right = 2 * i + 2;
    
    if (left < n && arr[left] > arr[largest]) {
        largest = left;
    }
    
    if (right < n && arr[right] > arr[largest]) {
        largest = right;
    }
    
    if (largest !== i) {
        [arr[i], arr[largest]] = [arr[largest], arr[i]];
        heapify(arr, n, largest);
    }
}`,

        counting: `function countingSort(arr) {
    let max = Math.max(...arr);
    let min = Math.min(...arr);
    let range = max - min + 1;
    let count = new Array(range).fill(0);
    let output = new Array(arr.length);
    
    // Store count of each element
    for (let i = 0; i < arr.length; i++) {
        count[arr[i] - min]++;
    }
    
    // Change count[i] so that it contains actual position
    for (let i = 1; i < count.length; i++) {
        count[i] += count[i - 1];
    }
    
    // Build the output array
    for (let i = arr.length - 1; i >= 0; i--) {
        output[count[arr[i] - min] - 1] = arr[i];
        count[arr[i] - min]--;
    }
    
    return output;
}`,

        radix: `function radixSort(arr) {
    let max = Math.max(...arr);
    
    // Do counting sort for every digit
    for (let exp = 1; Math.floor(max / exp) > 0; exp *= 10) {
        countingSortForRadix(arr, exp);
    }
    return arr;
}

function countingSortForRadix(arr, exp) {
    let n = arr.length;
    let output = new Array(n);
    let count = new Array(10).fill(0);
    
    // Store count of occurrences
    for (let i = 0; i < n; i++) {
        let digit = Math.floor(arr[i] / exp) % 10;
        count[digit]++;
    }
    
    // Change count[i] so that it contains actual position
    for (let i = 1; i < 10; i++) {
        count[i] += count[i - 1];
    }
    
    // Build the output array
    for (let i = n - 1; i >= 0; i--) {
        let digit = Math.floor(arr[i] / exp) % 10;
        output[count[digit] - 1] = arr[i];
        count[digit]--;
    }
    
    // Copy the output array to arr
    for (let i = 0; i < n; i++) {
        arr[i] = output[i];
    }
}`,

        shell: `function shellSort(arr) {
    let n = arr.length;
    
    // Start with a big gap, then reduce the gap
    for (let gap = Math.floor(n/2); gap > 0; gap = Math.floor(gap/2)) {
        // Do a gapped insertion sort for this gap size
        for (let i = gap; i < n; i++) {
            let temp = arr[i];
            let j;
            
            // Shift earlier gap-sorted elements up until the correct location
            for (j = i; j >= gap && arr[j - gap] > temp; j -= gap) {
                arr[j] = arr[j - gap];
            }
            
            // Put temp in its correct location
            arr[j] = temp;
        }
    }
    return arr;
}`,

        linear: `function linearSearch(arr, target) {
    for (let i = 0; i < arr.length; i++) {
        if (arr[i] === target) {
            return i; // Return index if found
        }
    }
    return -1; // Return -1 if not found
}`,

        binary: `function binarySearch(arr, target) {
    let left = 0;
    let right = arr.length - 1;
    
    while (left <= right) {
        let mid = Math.floor((left + right) / 2);
        
        // Check if target is present at mid
        if (arr[mid] === target) {
            return mid;
        }
        
        // If target is greater, ignore left half
        if (arr[mid] < target) {
            left = mid + 1;
        } 
        // If target is smaller, ignore right half
        else {
            right = mid - 1;
        }
    }
    
    return -1; // Target not found
}`
    };

    // Algorithm descriptions
    const algorithmDescriptions = {
        bubble: "Bubble Sort repeatedly steps through the list, compares adjacent elements and swaps them if they are in the wrong order. The pass through the list is repeated until the list is sorted.",
        selection: "Selection Sort divides the input list into two parts: a sorted sublist and an unsorted sublist. It repeatedly finds the minimum element from the unsorted part and puts it at the beginning of the sorted part.",
        insertion: "Insertion Sort builds the final sorted array one item at a time. It is much less efficient on large lists than more advanced algorithms such as quicksort, heapsort, or merge sort.",
        merge: "Merge Sort is a divide and conquer algorithm that divides the input array into two halves, calls itself for the two halves, and then merges the two sorted halves.",
        quick: "Quick Sort is a divide and conquer algorithm. It picks an element as pivot and partitions the given array around the picked pivot.",
        heap: "Heap Sort is a comparison-based sorting technique based on Binary Heap data structure. It is similar to selection sort where we first find the maximum element and place it at the end.",
        counting: "Counting Sort is a sorting technique based on keys between a specific range. It works by counting the number of objects having distinct key values.",
        radix: "Radix Sort is a non-comparative sorting algorithm that sorts data with integer keys by grouping keys by the individual digits which share the same significant position and value.",
        shell: "Shell Sort is a generalization of insertion sort that allows the exchange of items that are far apart. The idea is to arrange the list of elements so that, starting anywhere, considering every hth element gives a sorted list.",
        linear: "Linear Search sequentially checks each element of the list until a match is found or the whole list has been searched.",
        binary: "Binary Search efficiently finds the position of a target value within a sorted array by repeatedly dividing the search interval in half."
    };

    // Algorithm complexity information
    const algorithmComplexity = {
        bubble: {
            timeBest: "O(n)",
            timeAverage: "O(n¬≤)",
            timeWorst: "O(n¬≤)",
            space: "O(1)"
        },
        selection: {
            timeBest: "O(n¬≤)",
            timeAverage: "O(n¬≤)",
            timeWorst: "O(n¬≤)",
            space: "O(1)"
        },
        insertion: {
            timeBest: "O(n)",
            timeAverage: "O(n¬≤)",
            timeWorst: "O(n¬≤)",
            space: "O(1)"
        },
        merge: {
            timeBest: "O(n log n)",
            timeAverage: "O(n log n)",
            timeWorst: "O(n log n)",
            space: "O(n)"
        },
        quick: {
            timeBest: "O(n log n)",
            timeAverage: "O(n log n)",
            timeWorst: "O(n¬≤)",
            space: "O(log n)"
        },
        heap: {
            timeBest: "O(n log n)",
            timeAverage: "O(n log n)",
            timeWorst: "O(n log n)",
            space: "O(1)"
        },
        counting: {
            timeBest: "O(n + k)",
            timeAverage: "O(n + k)",
            timeWorst: "O(n + k)",
            space: "O(k)"
        },
        radix: {
            timeBest: "O(nk)",
            timeAverage: "O(nk)",
            timeWorst: "O(nk)",
            space: "O(n + k)"
        },
        shell: {
            timeBest: "O(n log n)",
            timeAverage: "O(n^(3/2))",
            timeWorst: "O(n¬≤)",
            space: "O(1)"
        },
        linear: {
            timeBest: "O(1)",
            timeAverage: "O(n)",
            timeWorst: "O(n)",
            space: "O(1)"
        },
        binary: {
            timeBest: "O(1)",
            timeAverage: "O(log n)",
            timeWorst: "O(log n)",
            space: "O(1)"
        }
    };

    // Algorithm names for display
    const algorithmNames = {
        bubble: "Bubble Sort",
        selection: "Selection Sort",
        insertion: "Insertion Sort",
        merge: "Merge Sort",
        quick: "Quick Sort",
        heap: "Heap Sort",
        counting: "Counting Sort",
        radix: "Radix Sort",
        shell: "Shell Sort",
        linear: "Linear Search",
        binary: "Binary Search"
    };

    // Initialize the application
    document.addEventListener('DOMContentLoaded', function() {
        // Modal functionality
        const modal = document.getElementById('welcomeModal');
        const closeModal = document.getElementById('closeModal');
        const getStarted = document.getElementById('getStarted');
        const showTutorial = document.getElementById('showTutorial');
        
        // Show modal on page load
        modal.style.display = 'flex';
        
        // Close modal when close button is clicked
        closeModal.addEventListener('click', function() {
            modal.style.display = 'none';
        });
        
        // Close modal when Get Started is clicked
        getStarted.addEventListener('click', function() {
            modal.style.display = 'none';
        });
        
        // Show tutorial (for now just close modal)
        showTutorial.addEventListener('click', function() {
            modal.style.display = 'none';
            // In a real implementation, you would start a tutorial here
            alert('Tutorial feature would start here!');
        });
        
        // Close modal when clicking outside the modal content
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });

        // Algorithm selection functionality
        const algorithmButtons = document.querySelectorAll('.btn-algorithm');
        
        algorithmButtons.forEach(button => {
            button.addEventListener('click', function() {
                const algorithmKey = this.getAttribute('data-algo');
                selectAlgorithm(algorithmKey);
            });
        });

        // Category tabs functionality
        const categoryTabs = document.querySelectorAll('.category-tab');
        
        categoryTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const category = this.getAttribute('data-category');
                switchCategory(category);
                
                // Update active tab
                categoryTabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Mobile menu functionality
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const mobileControlsToggle = document.getElementById('mobileControlsToggle');
        const closeControlPanel = document.getElementById('closeControlPanel');
        const controlPanel = document.getElementById('controlPanel');
        
        if (mobileMenuToggle) {
            mobileMenuToggle.addEventListener('click', function() {
                controlPanel.classList.add('active');
            });
        }
        
        if (mobileControlsToggle) {
            mobileControlsToggle.addEventListener('click', function() {
                controlPanel.classList.add('active');
            });
        }
        
        if (closeControlPanel) {
            closeControlPanel.addEventListener('click', function() {
                controlPanel.classList.remove('active');
            });
        }

        // Initialize with a default algorithm
        selectAlgorithm('bubble');
    });

    // Function to select an algorithm
    function selectAlgorithm(algorithmKey) {
        // Update the current algorithm display
        document.getElementById('currentAlgorithm').textContent = algorithmNames[algorithmKey];
        document.getElementById('algorithmDescription').textContent = algorithmDescriptions[algorithmKey];
        document.getElementById('algorithmName').textContent = algorithmNames[algorithmKey];
        
        // Update the code display
        document.getElementById('algorithmCode').textContent = algorithmCodes[algorithmKey];
        
        // Update the algorithm info panel
        document.getElementById('algorithmInfo').textContent = `${algorithmNames[algorithmKey]} - ${algorithmDescriptions[algorithmKey]}`;
        
        // Update complexity information
        document.getElementById('timeBest').textContent = algorithmComplexity[algorithmKey].timeBest;
        document.getElementById('timeAverage').textContent = algorithmComplexity[algorithmKey].timeAverage;
        document.getElementById('timeWorst').textContent = algorithmComplexity[algorithmKey].timeWorst;
        document.getElementById('spaceComplexity').textContent = algorithmComplexity[algorithmKey].space;
        
        // Update algorithm description text
        document.getElementById('algorithmDescriptionText').textContent = algorithmDescriptions[algorithmKey];
        
        // Update pseudocode (using the same code for now)
        document.getElementById('pseudocode').textContent = algorithmCodes[algorithmKey];
        
        // Update active algorithm button
        const algorithmButtons = document.querySelectorAll('.btn-algorithm');
        algorithmButtons.forEach(button => {
            button.classList.remove('active');
            if (button.getAttribute('data-algo') === algorithmKey) {
                button.classList.add('active');
            }
        });
        
        // Enable the play button
        document.getElementById('playPause').disabled = false;
        
        // Generate a new array for visualization
        generateArray();
    }

    // Function to switch between algorithm categories
    function switchCategory(category) {
        const sortingAlgorithms = document.getElementById('sorting-algorithms');
        const searchingAlgorithms = document.getElementById('searching-algorithms');
        const advancedAlgorithms = document.getElementById('advanced-algorithms');
        
        // Hide all algorithm sections
        sortingAlgorithms.classList.add('hidden');
        searchingAlgorithms.classList.add('hidden');
        advancedAlgorithms.classList.add('hidden');
        
        // Show the selected category
        if (category === 'sorting') {
            sortingAlgorithms.classList.remove('hidden');
        } else if (category === 'searching') {
            searchingAlgorithms.classList.remove('hidden');
        } else if (category === 'advanced') {
            advancedAlgorithms.classList.remove('hidden');
        }
    }

    // Function to generate a random array for visualization
    function generateArray() {
        const arraySize = parseInt(document.getElementById('arraySize').value);
        const arrayContainer = document.getElementById('arrayContainer');
        
        // Clear the container
        arrayContainer.innerHTML = '';
        
        // Generate random array values
        const array = [];
        for (let i = 0; i < arraySize; i++) {
            array.push(Math.floor(Math.random() * 100) + 5); // Values between 5 and 105
        }
        
        // Find the maximum value for scaling
        const maxValue = Math.max(...array);
        
        // Create array bars
        array.forEach(value => {
            const bar = document.createElement('div');
            bar.className = 'array-bar';
            bar.style.height = `${(value / maxValue) * 100}%`;
            
            if (document.getElementById('showValues').checked) {
                bar.textContent = value;
            }
            
            arrayContainer.appendChild(bar);
        });
        
        // Reset stats
        document.getElementById('comparisons').textContent = '0';
        document.getElementById('swaps').textContent = '0';
        document.getElementById('timeElapsed').textContent = '0.00s';
        document.getElementById('operationsPerSecond').textContent = '0/s';
    }

    // Initialize array generation when the page loads
    document.addEventListener('DOMContentLoaded', function() {
        generateArray();
        
        // Add event listener for array size slider
        const arraySizeSlider = document.getElementById('arraySize');
        const arraySizeValue = document.getElementById('arraySizeValue');
        
        arraySizeSlider.addEventListener('input', function() {
            arraySizeValue.textContent = this.value;
            generateArray();
        });
        
        // Add event listener for show values checkbox
        const showValuesCheckbox = document.getElementById('showValues');
        showValuesCheckbox.addEventListener('change', function() {
            generateArray();
        });
        
        // Add event listener for new array button
        const generateArrayButton = document.getElementById('generateArray');
        generateArrayButton.addEventListener('click', generateArray);
        
        // Add event listener for array presets
        const arrayPresets = document.querySelectorAll('.array-presets .btn-small');
        arrayPresets.forEach(preset => {
            preset.addEventListener('click', function() {
                // Remove active class from all presets
                arrayPresets.forEach(p => p.classList.remove('active'));
                // Add active class to clicked preset
                this.classList.add('active');
                
                // In a real implementation, you would generate different array types here
                generateArray();
            });
        });
        
        // Add event listener for copy code button
        const copyCodeButton = document.getElementById('copyCode');
        copyCodeButton.addEventListener('click', function() {
            const codeElement = document.getElementById('algorithmCode');
            const textArea = document.createElement('textarea');
            textArea.value = codeElement.textContent;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            
            // Show copied feedback
            const originalIcon = this.innerHTML;
            this.innerHTML = '<i class="fas fa-check"></i>';
            setTimeout(() => {
                this.innerHTML = originalIcon;
            }, 2000);
        });
        
        // Add event listener for toggle code button
        const toggleCodeButton = document.getElementById('toggleCode');
        const codeContent = document.querySelector('.code-content');
        
        toggleCodeButton.addEventListener('click', function() {
            if (codeContent.style.display === 'none') {
                codeContent.style.display = 'block';
                this.innerHTML = '<i class="fas fa-chevron-down"></i>';
            } else {
                codeContent.style.display = 'none';
                this.innerHTML = '<i class="fas fa-chevron-up"></i>';
            }
        });
        
        // Add event listener for details tabs
        const detailsTabs = document.querySelectorAll('.details-tab');
        const tabContents = document.querySelectorAll('.tab-content');
        
        detailsTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const tabName = this.getAttribute('data-tab');
                
                // Update active tab
                detailsTabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // Show corresponding content
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === `${tabName}-content`) {
                        content.classList.add('active');
                    }
                });
            });
        });
    });
</script>
</body>
</html>